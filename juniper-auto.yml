name: juniper

topology:
  nodes:

    rt-ixa:
      kind: nokia_srlinux
      #mgmt-ipv4: 172.80.80.5
      image: ghcr.io/nokia/srlinux:24.10.1
      type: ixrd3
      #startup-config: configs/srlswitch.cfg 

    rt-ufinet:
      kind: nokia_srlinux
      #mgmt-ipv4: 172.80.80.5
      image: ghcr.io/nokia/srlinux:24.10.1
      type: ixrd3
      #startup-config: configs/srlswitch.cfg 
    
    srlswitch:
      kind: nokia_srlinux
      #mgmt-ipv4: 172.80.80.5
      image: ghcr.io/nokia/srlinux:24.10.1
      type: ixrd3
      #startup-config: configs/srlswitch.cfg 
    
    vjuno:
      kind: juniper_vjunosrouter
      image: arthurk99/juniper-vjunos-router:23.4  
      #startup-config: srl.cli
  
    rt-slas-core:
      kind: cisco_iol
      image: arthurk99/cisco-iol:17.15.01 
      
    wan1:
      kind: linux
      image: bprodoehl/wan-emulator:20230418
      #mgmt-ipv4: 172.20.20.11
      binds:
        - configs/crea-bridge.sh:/root/crea-bridge.sh
      exec:
        - chmod +x /root/crea-bridge.sh
        - bash /root/crea-bridge.sh    
      
    wan2:
      kind: linux
      image: bprodoehl/wan-emulator:20230418
      #mgmt-ipv4: 172.20.20.12
      binds:
        - configs/crea-bridge.sh:/root/crea-bridge.sh
      exec:
        - chmod +x /root/crea-bridge.sh
        - bash /root/crea-bridge.sh    
    
    nornir:
      kind: linux
      image: esanchezv/kali-python3:latest 

  links:
    - endpoints: ["rt-ixa:e1-1", "wan1:eth1"]
    - endpoints: ["rt-ufinet:e1-1", "wan2:eth1"]
    - endpoints: ["wan1:eth2", "vjuno:eth1"]
    - endpoints: ["wan2:eth2", "vjuno:eth2"]
    - endpoints: ["vjuno:eth1", "rt-slas-core:Ethernet0/1"]
    - endpoints: ["vjuno:eth3", "srlswitch:e1-1"]
    - endpoints: ["rt-slas-core:Ethernet0/1", "srlswitch:e1-2"]   
